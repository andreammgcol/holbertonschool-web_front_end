<!DOCTYPE html>
<html lang="en" dir="ltr">

    <head>

        <meta charset="utf-8" />
        <title>Cookies</title>
        
    </head>

    <body>

        <script>

            let availableItems = ['Shampoo', 'Soap', 'Sponge', 'Water'];

            if (typeof(Storage) !== "undefined") {
                createStore();
                displayCart();
            } else {
                alert('Sorry, your browser does not support Web storage. Try again with a better one');
            }

            function addItemToCart(item) {
                localStorage.setItem(item,true);
            }

            function createStore() {
                let ul = document.createElement('ul');
                document.body.append(ul);

                availableItems.forEach(function(item) {
                    let li = document.createElement('li');
                    li.innerText = item;
                    li.onclick = function() {
                        addItemToCart(item);
                    }
                    ul.append(li);
                });
            }

            function displayCart() {
                if (sessionStorage.length > 0) {
                    let p = document.createElement('p');
                    p.innerText = `You previously had ${sessionStorage.length} items in your cart`;
                    document.body.append(p);
                }
            }

        </script>
        
    </body>

</html>
